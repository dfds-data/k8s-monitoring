apiVersion: v1
data:
  datasource.yaml: |-
    apiVersion: 1
    datasources:
    - name: Prometheus
      type: prometheus
      url: http://monitoring-kube-prometheus-prometheus.monitoring:9090
      access: proxy
      isDefault: true
    - name: Postgres-Overdue
      type: postgres
      url: $(OVERDUEFORECAST_POSTGRES_URL)
      database: overdueforecast
      user: $(OVERDUEFORECAST_USER)
      secureJsonData:
        password: $(OVERDUEFORECAST_PASSWORD)
      jsonData:
        sslmode: "disable" # disable/require/verify-ca/verify-full
        maxOpenConns: 0         
        maxIdleConns: 2         
        connMaxLifetime: 14400  
        postgresVersion: 13
        timescaledb: false
kind: ConfigMap
metadata:
  labels:
    grafana_datasource: "1"
  name: grafana-datasource
